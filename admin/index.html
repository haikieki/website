<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç®¡ç†ç”»é¢ | å…¨å›½ä½å®…ãƒªãƒ•ã‚©ãƒ¼ãƒ å–æ‰±ä¸»ä»»è€…å”ä¼š</title>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  <script>
    // Shift+Enterã§æ”¹è¡Œã€Enterã®ã¿ã§ã¯æ”¹è¡Œã—ãªã„
    document.addEventListener('keydown', function(e) {
      if (e.target.tagName !== 'TEXTAREA') return;
      if (e.key !== 'Enter') return;
      if (e.shiftKey) {
        // Shift+Enter: ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼ˆæ”¹è¡ŒæŒ¿å…¥ï¼‰ã«ä»»ã›ã‚‹
        return;
      }
      // Enter ã®ã¿: æ”¹è¡Œã—ãªã„
      e.preventDefault();
    }, true);

    window.addEventListener('load', function() {
      setTimeout(function() {
        var pages = [
          { label: 'ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸', href: '/' },
          { label: 'å…¨å›½ä½å®…ãƒªãƒ•ã‚©ãƒ¼ãƒ å–æ‰±ä¸»ä»»è€…ã¨ã¯', href: '/national_housing_reform_specialist.html' },
          { label: 'ã„ã„ãƒªãƒ•ã‚©ãƒ¼ãƒ ã‚’ã™ã‚‹ãŸã‚ã«', href: '/guide.html' },
          { label: 'è³‡æ ¼ä¿æœ‰è€…ã®å£°', href: '/voices.html' },
          { label: 'è³‡æ ¼ä¿æœ‰è€…æ¤œç´¢', href: '/search.html' },
          { label: 'ãŠå•åˆã›', href: '/contact.html' },
        ];

        // ãƒ©ãƒƒãƒ‘ãƒ¼
        var wrap = document.createElement('div');
        wrap.style.cssText = 'position:fixed;bottom:20px;right:20px;z-index:9999;display:flex;flex-direction:column;align-items:flex-end;gap:8px;font-family:sans-serif;';

        // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆåˆæœŸéè¡¨ç¤ºï¼‰
        var menu = document.createElement('div');
        menu.style.cssText = 'background:#fff;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,.2);overflow:hidden;display:none;min-width:240px;';
        var menuTitle = document.createElement('div');
        menuTitle.textContent = 'ãƒšãƒ¼ã‚¸ã‚’ç¢ºèªã™ã‚‹';
        menuTitle.style.cssText = 'padding:10px 16px;background:#1b5e20;color:#fff;font-size:13px;font-weight:bold;';
        menu.appendChild(menuTitle);
        pages.forEach(function(p) {
          var a = document.createElement('a');
          a.href = p.href;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.textContent = p.label;
          a.style.cssText = 'display:block;padding:9px 16px;font-size:13px;color:#333;text-decoration:none;border-bottom:1px solid #eee;';
          a.onmouseover = function() { this.style.background = '#f5f5f5'; };
          a.onmouseout = function() { this.style.background = ''; };
          menu.appendChild(a);
        });

        // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³
        var previewBtn = document.createElement('button');
        previewBtn.textContent = 'ğŸ‘ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼';
        previewBtn.style.cssText = 'background:#2e7d32;color:#fff;border:none;padding:10px 18px;border-radius:6px;font-size:14px;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.3);';
        previewBtn.onclick = function() {
          menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
        };

        // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³
        var dlBtn = document.createElement('a');
        dlBtn.href = '/admin/download.html';
        dlBtn.textContent = 'â¬‡ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰';
        dlBtn.style.cssText = 'background:#1565c0;color:#fff;padding:10px 18px;border-radius:6px;text-decoration:none;font-size:14px;box-shadow:0 2px 8px rgba(0,0,0,.3);text-align:center;';

        wrap.appendChild(menu);
        wrap.appendChild(previewBtn);
        wrap.appendChild(dlBtn);
        document.body.appendChild(wrap);
      }, 2000);
    });
  </script>
</body>
</html>
